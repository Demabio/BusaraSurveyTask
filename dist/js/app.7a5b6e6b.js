(function(e){function t(t){for(var c,s,o=t[0],i=t[1],l=t[2],u=0,h=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);d&&d(t);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],c=!0,s=1;s<n.length;s++){var i=n[s];0!==r[i]&&(c=!1)}c&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var c={},r={app:0},a=[];function s(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"ae4335ec"}[e]+".js"}function o(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var c=new Promise((function(t,c){n=r[e]=[t,c]}));t.push(n[2]=c);var a,i=document.createElement("script");i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.src=s(e);var l=new Error;a=function(t){i.onerror=i.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+c+": "+a+")",l.name="ChunkLoadError",l.type=c,l.request=a,n[1](l)}r[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:i})}),12e4);i.onerror=i.onload=a,document.head.appendChild(i)}return Promise.all(t)},o.m=e,o.c=c,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)o.d(n,c,function(t){return e[t]}.bind(null,c));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},"1cca":function(e,t,n){"use strict";n("e92b")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r={id:"wrapper"},a={class:"navbar is-dark"},s={class:"navbar-brand"},o=Object(c["h"])("strong",null,"Busara Survey Platform",-1),i=Object(c["h"])("span",{"aria-hidden":"true"},null,-1),l=Object(c["h"])("span",{"aria-hidden":"true"},null,-1),u=Object(c["h"])("span",{"aria-hidden":"true"},null,-1),d=Object(c["h"])("div",{class:"navbar-start"},[Object(c["h"])("div",{class:"navbar-item"},[Object(c["h"])("form",{method:"get",action:"/search"},[Object(c["h"])("div",{class:"field has-addons"},[Object(c["h"])("div",{class:"control"},[Object(c["h"])("input",{type:"text",class:"input",placeholder:"What are you looking for?",name:"query"})]),Object(c["h"])("div",{class:"control"},[Object(c["h"])("button",{class:"button is-success"},[Object(c["h"])("span",{class:"icon"},[Object(c["h"])("i",{class:"fas fa-search"})])])])])])])],-1),h={class:"navbar-end"},b=Object(c["g"])("Start Survey"),m={class:"navbar-item"},O={class:"buttons"},j=Object(c["g"])("My Profile"),p=Object(c["g"])("Log in"),f=Object(c["h"])("span",{class:"icon"},[Object(c["h"])("i",{class:"fas fa-user"})],-1),g=Object(c["h"])("div",{class:"lds-dual-ring"},null,-1),v={class:"section"},y=Object(c["h"])("footer",{class:"footer"},[Object(c["h"])("p",{class:"has-text-centered"},"Copyright Busara Survey (Inc)(c) 2021")],-1);function w(e,t,n,w,_,k){var q=Object(c["x"])("router-link"),x=Object(c["x"])("router-view");return Object(c["q"])(),Object(c["e"])("div",r,[Object(c["h"])("nav",a,[Object(c["h"])("div",s,[Object(c["h"])(q,{to:"/",class:"navbar-item"},{default:Object(c["E"])((function(){return[o]})),_:1}),Object(c["h"])("a",{class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbar-menu",onClick:t[1]||(t[1]=function(e){return _.showMobileMenu=!_.showMobileMenu})},[i,l,u])]),Object(c["h"])("div",{class:["navbar-menu",{"is-active":_.showMobileMenu}],id:"navbar-menu"},[d,Object(c["h"])("div",h,[e.$store.state.isAuthenticated?(Object(c["q"])(),Object(c["e"])(q,{key:0,to:"/my-survey",class:"navbar-item"},{default:Object(c["E"])((function(){return[b]})),_:1})):Object(c["f"])("",!0),Object(c["h"])("div",m,[Object(c["h"])("div",O,[e.$store.state.isAuthenticated?(Object(c["q"])(),Object(c["e"])(q,{key:0,to:"/my-account",class:"button is-success"},{default:Object(c["E"])((function(){return[j]})),_:1})):(Object(c["q"])(),Object(c["e"])(q,{key:1,to:"/log-in",class:"button is-success"},{default:Object(c["E"])((function(){return[p]})),_:1})),e.$store.state.isAuthenticated?(Object(c["q"])(),Object(c["e"])(c["a"],{key:2},[Object(c["h"])(q,{to:"/cart",class:"button is-success"},{default:Object(c["E"])((function(){return[f,Object(c["h"])("span",null,"Logged As ("+Object(c["z"])(k.cartTotalLength)+")",1)]})),_:1}),Object(c["h"])("button",{onClick:t[2]||(t[2]=function(e){return k.logout()}),class:"button is-danger"},"Log out")],64)):Object(c["f"])("",!0)])])])],2)]),Object(c["h"])("div",{class:["is-loading-bar has-text-centered",{"is-loading":e.$store.state.isLoading}]},[g],2),Object(c["h"])("section",v,[Object(c["h"])(x)]),y])}var _=n("bc3a"),k=n.n(_),q={data:function(){return{showMobileMenu:!1,cart:{items:[]}}},beforeCreate:function(){this.$store.commit("initializeStore");var e=this.$store.state.token;k.a.defaults.headers.common["Authorization"]=e?"Token "+e:""},mounted:function(){this.cart=this.$store.state.cart},computed:{cartTotalLength:function(){var e=localStorage.getItem("name");return console.log("Kwa majina ni:"+e),e}},getorders:function(){var e=localStorage.getItem("name");return console.log("Kwa majina ni:"+e),e},methods:{logout:function(){k.a.defaults.headers.common["Authorization"]="",localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("userid"),localStorage.removeItem("name"),this.$store.commit("removeToken"),this.$router.push("/")}}};n("6748");q.render=w;var x=q,S=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),I=(n("4de4"),n("5502")),T=Object(I["a"])({state:{cart:{items:[]},isAuthenticated:!1,token:"",isLoading:!1},mutations:{initializeStore:function(e){localStorage.getItem("cart")?e.cart=JSON.parse(localStorage.getItem("cart")):localStorage.setItem("cart",JSON.stringify(e.cart)),localStorage.getItem("token")?(e.token=localStorage.getItem("token"),e.isAuthenticated=!0):(e.token="",e.isAuthenticated=!1)},addToCart:function(e,t){var n=e.cart.items.filter((function(e){return e.product.id===t.product.id}));n.length?n[0].quantity=parseInt(n[0].quantity)+parseInt(t.quantity):e.cart.items.push(t),localStorage.setItem("cart",JSON.stringify(e.cart))},setIsLoading:function(e,t){e.isLoading=t},setToken:function(e,t){e.token=t,e.isAuthenticated=!0},removeToken:function(e){e.token="",e.isAuthenticated=!1},clearCart:function(e){e.cart={items:[]},localStorage.setItem("cart",JSON.stringify(e.cart))}},actions:{},modules:{}}),C={class:"home"},L=Object(c["h"])("section",{class:"hero is-medium is-dark mb-6"},[Object(c["h"])("div",{class:"hero-body has-text-centered"},[Object(c["h"])("p",{class:"title mb-6"}," Welcome to Busara Survey Platform "),Object(c["h"])("p",{class:"subtitle"}," The best online Survey Platform ")])],-1),z={class:"columns is-multiline"},F=Object(c["h"])("div",{class:"column is-12"},[Object(c["h"])("h2",{class:"is-size-2 has-text-centered"}," Our Latest Surveys")],-1);function B(e,t,n,r,a,s){var o=Object(c["x"])("ProductBox");return Object(c["q"])(),Object(c["e"])("div",C,[L,Object(c["h"])("div",z,[F,(Object(c["q"])(!0),Object(c["e"])(c["a"],null,Object(c["w"])(a.latestProducts,(function(e){return Object(c["q"])(),Object(c["e"])(o,{key:e.id,product:e},null,8,["product"])})),128))])])}var P=n("1da1"),$=(n("96cf"),n("b0c0"),Object(c["H"])("data-v-df598780"));Object(c["t"])("data-v-df598780");var E={class:"column is-3"},A={class:"box"},U={class:"image mb-4"},V={class:"is-size-4"},H={class:"is-size-6 has-text-grey"},M=Object(c["g"])("View details");Object(c["r"])();var R=$((function(e,t,n,r,a,s){var o=Object(c["x"])("router-link");return Object(c["q"])(),Object(c["e"])("div",E,[Object(c["h"])("div",A,[Object(c["h"])("figure",U,[Object(c["h"])("img",{src:n.product.get_thumbnail},null,8,["src"])]),Object(c["h"])("h3",V,Object(c["z"])(n.product.name),1),Object(c["h"])("p",H,"$"+Object(c["z"])(n.product.price),1),Object(c["h"])(o,{to:n.product.get_absolute_url,class:"button is-dark mt-4"},{default:$((function(){return[M]})),_:1},8,["to"])])])})),J={name:"ProductBox",props:{product:Object}};n("c9d5");J.render=R,J.__scopeId="data-v-df598780";var N=J,Q={name:"Home",data:function(){return{latestProducts:[]}},components:{ProductBox:N},mounted:function(){this.getLatestProducts(),document.title="Home | Djackets"},methods:{getLatestProducts:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("setIsLoading",!0),t.next=3,k.a.get("/api/v1/latest-products/").then((function(t){e.latestProducts=t.data})).catch((function(e){console.log(e)}));case 3:e.$store.commit("setIsLoading",!1);case 4:case"end":return t.stop()}}),t)})))()}}};Q.render=B;var D=Q,G=(n("a4d3"),n("e01a"),{class:"page-product"}),X={class:"columns is-multiline"},W={class:"column is-9"},K={class:"image mb-6"},Z={class:"title"},Y={class:"column is-3"},ee=Object(c["h"])("h2",{class:"subtitle"},"Information",-1),te=Object(c["h"])("strong",null,"Price: ",-1),ne={class:"field has-addons mt-6"},ce={class:"control"},re={class:"control"};function ae(e,t,n,r,a,s){return Object(c["q"])(),Object(c["e"])("div",G,[Object(c["h"])("div",X,[Object(c["h"])("div",W,[Object(c["h"])("figure",K,[Object(c["h"])("img",{src:a.product.get_image},null,8,["src"])]),Object(c["h"])("h1",Z,Object(c["z"])(a.product.name),1),Object(c["h"])("p",null,Object(c["z"])(a.product.description),1)]),Object(c["h"])("div",Y,[ee,Object(c["h"])("p",null,[te,Object(c["g"])("$"+Object(c["z"])(a.product.price),1)]),Object(c["h"])("div",ne,[Object(c["h"])("div",ce,[Object(c["F"])(Object(c["h"])("input",{type:"number",class:"input",min:"1","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.quantity=e})},null,512),[[c["C"],a.quantity]])]),Object(c["h"])("div",re,[Object(c["h"])("a",{class:"button is-dark",onClick:t[2]||(t[2]=function(e){return s.addToCart()})},"Add to cart")])])])])])}n("99af");var se=n("4b44"),oe={name:"Product",data:function(){return{product:{},quantity:1}},mounted:function(){this.getProduct()},methods:{getProduct:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("setIsLoading",!0),n=e.$route.params.category_slug,c=e.$route.params.product_slug,t.next=5,k.a.get("/api/v1/products/".concat(n,"/").concat(c)).then((function(t){e.product=t.data,document.title=e.product.name+" | Busara Survey Platform"})).catch((function(e){console.log(e)}));case 5:e.$store.commit("setIsLoading",!1);case 6:case"end":return t.stop()}}),t)})))()},addToCart:function(){(isNaN(this.quantity)||this.quantity<1)&&(this.quantity=1);var e={product:this.product,quantity:this.quantity};this.$store.commit("addToCart",e),Object(se["toast"])({message:"The product was added to the cart",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})}}};oe.render=ae;var ie=oe,le={class:"page-category"},ue={class:"columns is-multiline"},de={class:"column is-12"},he={class:"is-size-2 has-text-centered"};function be(e,t,n,r,a,s){var o=Object(c["x"])("ProductBox");return Object(c["q"])(),Object(c["e"])("div",le,[Object(c["h"])("div",ue,[Object(c["h"])("div",de,[Object(c["h"])("h2",he,Object(c["z"])(a.category.name),1)]),(Object(c["q"])(!0),Object(c["e"])(c["a"],null,Object(c["w"])(a.category.products,(function(e){return Object(c["q"])(),Object(c["e"])(o,{key:e.id,product:e},null,8,["product"])})),128))])])}var me={name:"Category",components:{ProductBox:N},data:function(){return{category:{products:[]}}},mounted:function(){this.getCategory()},watch:{$route:function(e,t){"Category"===e.name&&this.getCategory()}},methods:{getCategory:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$route.params.category_slug,e.$store.commit("setIsLoading",!0),k.a.get("/api/v1/products/".concat(n,"/")).then((function(t){e.category=t.data,document.title=e.category.name+" | Djackets"})).catch((function(e){console.log(e),Object(se["toast"])({message:"Something went wrong. Please try again.",type:"is-danger",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})})),e.$store.commit("setIsLoading",!1);case 4:case"end":return t.stop()}}),t)})))()}}};me.render=be;var Oe=me,je={class:"page-search"},pe={class:"columns is-multiline"},fe={class:"column is-12"},ge=Object(c["h"])("h1",{class:"title"},"Search",-1),ve={class:"is-size-5 has-text-grey"};function ye(e,t,n,r,a,s){var o=Object(c["x"])("ProductBox");return Object(c["q"])(),Object(c["e"])("div",je,[Object(c["h"])("div",pe,[Object(c["h"])("div",fe,[ge,Object(c["h"])("h2",ve,'Search term: "'+Object(c["z"])(a.query)+'"',1)]),(Object(c["q"])(!0),Object(c["e"])(c["a"],null,Object(c["w"])(a.products,(function(e){return Object(c["q"])(),Object(c["e"])(o,{key:e.id,product:e},null,8,["product"])})),128))])])}n("841c"),n("ac1f"),n("2b3d");var we={name:"Search",components:{ProductBox:N},data:function(){return{products:[],query:""}},mounted:function(){document.title="Search | Djackets";var e=window.location.search.substring(1),t=new URLSearchParams(e);t.get("query")&&(this.query=t.get("query"),this.performSearch())},methods:{performSearch:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("setIsLoading",!0),t.next=3,k.a.post("/api/v1/products/search/",{query:e.query}).then((function(t){e.products=t.data})).catch((function(e){console.log(e)}));case 3:e.$store.commit("setIsLoading",!1);case 4:case"end":return t.stop()}}),t)})))()}}};we.render=ye;var _e=we,ke={class:"page-cart"},qe={class:"columns is-multiline"},xe=Object(c["h"])("div",{class:"column is-12"},[Object(c["h"])("h1",{class:"title"},"Dashboard")],-1),Se={class:"column is-12 box"},Ie={key:0,class:"table is-fullwidth"},Te=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",null,"Product"),Object(c["h"])("th",null,"Price"),Object(c["h"])("th",null,"Quantity"),Object(c["h"])("th",null,"Total"),Object(c["h"])("th")])],-1),Ce={key:1};function Le(e,t,n,r,a,s){var o=Object(c["x"])("CartItem");return Object(c["q"])(),Object(c["e"])("div",ke,[Object(c["h"])("div",qe,[xe,Object(c["h"])("div",Se,[s.cartTotalLength?(Object(c["q"])(),Object(c["e"])("table",Ie,[Te,Object(c["h"])("tbody",null,[(Object(c["q"])(!0),Object(c["e"])(c["a"],null,Object(c["w"])(a.cart.items,(function(e){return Object(c["q"])(),Object(c["e"])(o,{key:e.product.id,initialItem:e,onRemoveFromCart:s.removeFromCart},null,8,["initialItem","onRemoveFromCart"])})),128))])])):(Object(c["q"])(),Object(c["e"])("p",Ce,"You don't have any data for now..."))])])])}n("13d5"),n("b680");function ze(e,t,n,r,a,s){var o=Object(c["x"])("router-link");return Object(c["q"])(),Object(c["e"])("tr",null,[Object(c["h"])("td",null,[Object(c["h"])(o,{to:a.item.product.get_absolute_url},{default:Object(c["E"])((function(){return[Object(c["g"])(Object(c["z"])(a.item.product.name),1)]})),_:1},8,["to"])]),Object(c["h"])("td",null,"$"+Object(c["z"])(a.item.product.price),1),Object(c["h"])("td",null,[Object(c["g"])(Object(c["z"])(a.item.quantity)+" ",1),Object(c["h"])("a",{onClick:t[1]||(t[1]=function(e){return s.decrementQuantity(a.item)})},"-"),Object(c["h"])("a",{onClick:t[2]||(t[2]=function(e){return s.incrementQuantity(a.item)})},"+")]),Object(c["h"])("td",null,"$"+Object(c["z"])(s.getItemTotal(a.item).toFixed(2)),1),Object(c["h"])("td",null,[Object(c["h"])("button",{class:"delete",onClick:t[3]||(t[3]=function(e){return s.removeFromCart(a.item)})})])])}var Fe={name:"CartItem",props:{initialItem:Object},data:function(){return{item:this.initialItem}},methods:{getItemTotal:function(e){return e.quantity*e.product.price},decrementQuantity:function(e){e.quantity-=1,0===e.quantity&&this.$emit("removeFromCart",e),this.updateCart()},incrementQuantity:function(e){e.quantity+=1,this.updateCart()},updateCart:function(){localStorage.setItem("cart",JSON.stringify(this.$store.state.cart))},removeFromCart:function(e){this.$emit("removeFromCart",e),this.updateCart()}}};Fe.render=ze;var Be=Fe,Pe={name:"Cart",components:{CartItem:Be},data:function(){return{cart:{items:[]}}},mounted:function(){this.cart=this.$store.state.cart},methods:{removeFromCart:function(e){this.cart.items=this.cart.items.filter((function(t){return t.product.id!==e.product.id}))}},computed:{cartTotalLength:function(){return this.cart.items.reduce((function(e,t){return e+t.quantity}),0)},cartTotalPrice:function(){return this.cart.items.reduce((function(e,t){return e+t.product.price*t.quantity}),0)}}};Pe.render=Le;var $e=Pe,Ee={class:"page-sign-up"},Ae={class:"columns"},Ue={class:"column is-4 is-offset-4"},Ve=Object(c["h"])("h1",{class:"title"},"Sign up",-1),He={class:"field"},Me=Object(c["h"])("label",null," Your Full Name",-1),Re={class:"control"},Je={class:"field"},Ne=Object(c["h"])("label",null,"Username",-1),Qe={class:"control"},De={class:"field"},Ge=Object(c["h"])("label",null,"Email Address",-1),Xe={class:"control"},We={class:"field"},Ke=Object(c["h"])("label",null,"Phone Number",-1),Ze={class:"control"},Ye={class:"field"},et=Object(c["h"])("label",null,"Password",-1),tt={class:"control"},nt={class:"field"},ct=Object(c["h"])("label",null,"Repeat password",-1),rt={class:"control"},at={key:0,class:"notification is-danger"},st=Object(c["h"])("div",{class:"field"},[Object(c["h"])("div",{class:"control"},[Object(c["h"])("button",{class:"button is-dark"},"Sign up")])],-1),ot=Object(c["h"])("hr",null,null,-1),it=Object(c["g"])(" Or "),lt=Object(c["g"])("click here"),ut=Object(c["g"])(" to log in! ");function dt(e,t,n,r,a,s){var o=Object(c["x"])("router-link");return Object(c["q"])(),Object(c["e"])("div",Ee,[Object(c["h"])("div",Ae,[Object(c["h"])("div",Ue,[Ve,Object(c["h"])("form",{onSubmit:t[7]||(t[7]=Object(c["G"])((function(){return s.submitForm&&s.submitForm.apply(s,arguments)}),["prevent"]))},[Object(c["h"])("div",He,[Me,Object(c["h"])("div",Re,[Object(c["F"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.full_name=e})},null,512),[[c["C"],a.full_name]])])]),Object(c["h"])("div",Je,[Ne,Object(c["h"])("div",Qe,[Object(c["F"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.username=e})},null,512),[[c["C"],a.username]])])]),Object(c["h"])("div",De,[Ge,Object(c["h"])("div",Xe,[Object(c["F"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.email=e})},null,512),[[c["C"],a.email]])])]),Object(c["h"])("div",We,[Ke,Object(c["h"])("div",Ze,[Object(c["F"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.phone_number=e})},null,512),[[c["C"],a.phone_number]])])]),Object(c["h"])("div",Ye,[et,Object(c["h"])("div",tt,[Object(c["F"])(Object(c["h"])("input",{type:"password",class:"input","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.password1=e})},null,512),[[c["C"],a.password1]])])]),Object(c["h"])("div",nt,[ct,Object(c["h"])("div",rt,[Object(c["F"])(Object(c["h"])("input",{type:"password",class:"input","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.password2=e})},null,512),[[c["C"],a.password2]])])]),a.errors.length?(Object(c["q"])(),Object(c["e"])("div",at,[(Object(c["q"])(!0),Object(c["e"])(c["a"],null,Object(c["w"])(a.errors,(function(e){return Object(c["q"])(),Object(c["e"])("p",{key:e},Object(c["z"])(e),1)})),128))])):Object(c["f"])("",!0),st,ot,it,Object(c["h"])(o,{to:"/log-in"},{default:Object(c["E"])((function(){return[lt]})),_:1}),ut],32)])])])}var ht={name:"SignUp",data:function(){return{username:"",password1:"",password2:"",email:"",full_name:"",phone_number:"",referral_code:"",device_details:{device:"Dummy"},location:"Dummy",errors:[]}},methods:{submitForm:function(){var e=this;if(this.errors=[],""===this.username&&this.errors.push("The username is missing"),""===this.full_name&&this.errors.push("The full name is missing"),""===this.phone_number&&this.errors.push("The phone number is missing"),""===this.email&&this.errors.push("The email  is missing"),""===this.password&&this.errors.push("The password is too short"),this.password1!==this.password2&&this.errors.push("The passwords doesn't match"),!this.errors.length){var t={username:this.username,password1:this.password1,password2:this.password2,email:this.email,full_name:this.full_name,phone_number:this.phone_number,referral_code:this.referral_code,device_details:this.device_details,location:this.location};JSON.stringify(t);k.a.post("/api/v1/users/registration/",t).then((function(t){Object(se["toast"])({message:"Account created, please log in!",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"}),e.$router.push("/log-in")})).catch((function(t){if(t.response){for(var n in t.response.data)e.errors.push("".concat(n,": ").concat(t.response.data[n]));console.log(JSON.stringify(t.response.data))}else t.message&&(e.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(t)))}))}}}};ht.render=dt;var bt=ht,mt={class:"page-log-in"},Ot={class:"columns"},jt={class:"column is-4 is-offset-4"},pt=Object(c["h"])("h1",{class:"title"},"Log in",-1),ft={class:"field"},gt=Object(c["h"])("label",null,"Username",-1),vt={class:"control"},yt={class:"field"},wt=Object(c["h"])("label",null,"Password",-1),_t={class:"control"},kt={key:0,class:"notification is-danger"},qt=Object(c["h"])("div",{class:"field"},[Object(c["h"])("div",{class:"control"},[Object(c["h"])("button",{class:"button is-success"},"Log in")])],-1),xt=Object(c["h"])("hr",null,null,-1),St=Object(c["g"])(" Or "),It=Object(c["g"])("click here"),Tt=Object(c["g"])(" to sign up! ");function Ct(e,t,n,r,a,s){var o=Object(c["x"])("router-link");return Object(c["q"])(),Object(c["e"])("div",mt,[Object(c["h"])("div",Ot,[Object(c["h"])("div",jt,[pt,Object(c["h"])("form",{onSubmit:t[3]||(t[3]=Object(c["G"])((function(){return s.submitForm&&s.submitForm.apply(s,arguments)}),["prevent"]))},[Object(c["h"])("div",ft,[gt,Object(c["h"])("div",vt,[Object(c["F"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.username=e})},null,512),[[c["C"],a.username]])])]),Object(c["h"])("div",yt,[wt,Object(c["h"])("div",_t,[Object(c["F"])(Object(c["h"])("input",{type:"password",class:"input","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e})},null,512),[[c["C"],a.password]])])]),a.errors.length?(Object(c["q"])(),Object(c["e"])("div",kt,[(Object(c["q"])(!0),Object(c["e"])(c["a"],null,Object(c["w"])(a.errors,(function(e){return Object(c["q"])(),Object(c["e"])("p",{key:e},Object(c["z"])(e),1)})),128))])):Object(c["f"])("",!0),qt,xt,St,Object(c["h"])(o,{to:"/sign-up"},{default:Object(c["E"])((function(){return[It]})),_:1}),Tt],32)])])])}var Lt=n("4328"),zt=n.n(Lt),Ft={name:"LogIn",data:function(){return{grant_type:"password",password:"",username:"",client_id:"pw5ExLyIcOnxF3B0wna1m7qqHlKVvrB2VFHGtyHB",client_secret:"xqsESmmZxlwGokFuqQTigIwF3hyIWykudx6TCKseGeQIVlSApmscBNlugvfEUO7jh1HJUdXQTreYXJ93nayBjX4jlb8Zzxr4sxJXxJFHRQsMncxtoeUZwwNihdzBB039",errors:[]}},mounted:function(){document.title="Log In | Busara Interview Task"},methods:{getMyOrders:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("setIsLoading",!0),t.next=3,k.a.create({headers:{Authorization:"Bearer "+token}}).get("/api/v1/users/current-user").then((function(t){e.orders=t.data.name,console.log("Busara Says Woot:"+t.data.universe_name),localStorage.setItem("name",t.data.name),localStorage.setItem("universe_name",t.data.universe_name)})).catch((function(e){console.log(e)}));case 3:e.$store.commit("setIsLoading",!1);case 4:case"end":return t.stop()}}),t)})))()},submitForm:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return k.a.defaults.headers.common["Authorization"]="",n="password",c={username:e.username,password:e.password,client_id:"pw5ExLyIcOnxF3B0wna1m7qqHlKVvrB2VFHGtyHB",client_secret:"xqsESmmZxlwGokFuqQTigIwF3hyIWykudx6TCKseGeQIVlSApmscBNlugvfEUO7jh1HJUdXQTreYXJ93nayBjX4jlb8Zzxr4sxJXxJFHRQsMncxtoeUZwwNihdzBB039",grant_type:n},{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:zt.a.stringify({client_idd:"pw5ExLyIcOnxF3B0wna1m7qqHlKVvrB2VFHGtyHB",client_secret:"xqsESmmZxlwGokFuqQTigIwF3hyIWykudx6TCKseGeQIVlSApmscBNlugvfEUO7jh1HJUdXQTreYXJ93nayBjX4jlb8Zzxr4sxJXxJFHRQsMncxtoeUZwwNihdzBB039",grant_type:n,password:e.password,username:e.username})},console.log(zt.a.stringify(c)),t.next=7,k.a.post("/api/v1/oauth/token/",zt.a.stringify(c)).then((function(t){console.log("Busara says Woot:"+t.data.access_token+"refresh token:"+t.data.refresh_token);var n=t.data.access_token,c=t.data.refresh_token;e.$store.commit("setToken",n),k.a.defaults.headers.common["Authorization"]="Token "+n,e.$store.commit("setIsLoading",!0),k.a.create({headers:{Authorization:"Bearer "+n}}).get("/api/v1/users/current-user").then((function(t){e.orders=t.data.name,localStorage.setItem("name",t.data.name),localStorage.setItem("universe_name",t.data.universe_name)})).catch((function(e){console.log(e)})),e.$store.commit("setIsLoading",!1),localStorage.setItem("token",n),localStorage.setItem("retaken",c),Object(se["toast"])({message:"Logged in Successfully!",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"});var r=e.$route.query.to||"/my-survey";e.$router.push(r)})).catch((function(t){if(t.response)for(var n in t.response.data)e.errors.push("".concat(n,": ").concat(t.response.data[n]));else e.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(t))}));case 7:case"end":return t.stop()}}),t)})))()}}};Ft.render=Ct;var Bt=Ft,Pt={class:"page-my-account"},$t={class:"columns is-multiline"},Et=Object(c["h"])("div",{class:"column is-12"},[Object(c["h"])("h1",{class:"title"},"Account Details")],-1),At={class:"table"},Ut=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",null,"Firstname"),Object(c["h"])("th",null,"Lastname"),Object(c["h"])("th",null,"Email"),Object(c["h"])("th",null,"Phone Number"),Object(c["h"])("th",null,"Refferal Code"),Object(c["h"])("th",null,"Universe")])],-1),Vt=Object(c["h"])("hr",null,null,-1);function Ht(e,t,n,r,a,s){return Object(c["q"])(),Object(c["e"])("div",Pt,[Object(c["h"])("div",$t,[Et,Object(c["h"])("table",At,[Ut,Object(c["h"])("tbody",null,[Object(c["h"])("tr",null,[Object(c["h"])("td",null,Object(c["z"])(a.orders.first_name),1),Object(c["h"])("td",null,Object(c["z"])(a.orders.last_name),1),Object(c["h"])("td",null,Object(c["z"])(a.orders.email),1),Object(c["h"])("td",null,Object(c["z"])(a.orders.phone_number),1),Object(c["h"])("td",null,Object(c["z"])(a.orders.referral_code),1),Object(c["h"])("td",null,Object(c["z"])(a.orders.universe_name),1)])])])]),Vt])}var Mt={class:"box mb-4"},Rt={class:"is-size-4 mb-6"},Jt=Object(c["h"])("h4",{class:"is-size-5"},"Products",-1),Nt={class:"table is-fullwidth"},Qt=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",null,"Product"),Object(c["h"])("th",null,"Price"),Object(c["h"])("th",null,"Quantity"),Object(c["h"])("th",null,"Total")])],-1);function Dt(e,t,n,r,a,s){return Object(c["q"])(),Object(c["e"])("div",Mt,[Object(c["h"])("h3",Rt,"Order #"+Object(c["z"])(n.order.id),1),Jt,Object(c["h"])("table",Nt,[Qt,Object(c["h"])("tbody",null,[(Object(c["q"])(!0),Object(c["e"])(c["a"],null,Object(c["w"])(n.order.items,(function(e){return Object(c["q"])(),Object(c["e"])("tr",{key:e.product.id},[Object(c["h"])("td",null,Object(c["z"])(e.product.name),1),Object(c["h"])("td",null,"$"+Object(c["z"])(e.product.price),1),Object(c["h"])("td",null,Object(c["z"])(e.quantity),1),Object(c["h"])("td",null,"$"+Object(c["z"])(s.getItemTotal(e).toFixed(2)),1)])})),128))])])])}var Gt={name:"OrderSummary",props:{order:Object},methods:{getItemTotal:function(e){return e.quantity*e.product.price},orderTotalLength:function(e){return e.items.reduce((function(e,t){return e+t.quantity}),0)}}};Gt.render=Dt;var Xt=localStorage.getItem("token");localStorage.getItem("retaken");console.log(" token:"+Xt);var Wt={name:"MyAccount",data:function(){return{orders:[]}},mounted:function(){document.title="My account | Busara Interview Task",this.getMyOrders()},methods:{cartTotalLength:function(){var e=localStorage.getItem("name");return console.log("Kwa majina ni:"+e),e},logout:function(){k.a.defaults.headers.common["Authorization"]="",localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("userid"),this.$store.commit("removeToken"),this.$router.push("/")},getMyOrders:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("setIsLoading",!0),t.next=3,k.a.create({headers:{Authorization:"Bearer "+Xt}}).get("/api/v1/users/current-user").then((function(t){e.orders=t.data,console.log("Busara Says Woot:"+JSON.stringify(t)),localStorage.setItem("name",t.data.name),localStorage.setItem("universe_name",t.data.firstname)})).catch((function(e){console.log(e)}));case 3:e.$store.commit("setIsLoading",!1);case 4:case"end":return t.stop()}}),t)})))()}}};Wt.render=Ht;var Kt=Wt,Zt=Object(c["H"])("data-v-5d925d48");Object(c["t"])("data-v-5d925d48");var Yt={class:"page-sign-up"},en={class:"columns"},tn={class:"column is-4 is-offset-4"},nn=Object(c["h"])("h5",{style:{"font-weight":"bold"}},"Welcome to Busara Online Survey",-1),cn=Object(c["h"])("h6",{style:{"font-weight":"bold"}},'"This is a basic campaign with questions and images"',-1),rn=Object(c["h"])("hr",null,null,-1),an=Object(c["h"])("legend",{class:"has-background-success"},"Bio Data",-1),sn={class:"field"},on=Object(c["h"])("label",null," Full Name",-1),ln={class:"control"},un={class:"field"},dn=Object(c["h"])("label",null,"Phone Number",-1),hn={class:"control"},bn={class:"field"},mn=Object(c["h"])("label",null,"What is your gender?",-1),On=Object(c["h"])("br",null,null,-1),jn=Object(c["h"])("option",{disabled:"",value:""},"Please select one",-1),pn=Object(c["h"])("option",null,"1-Male",-1),fn=Object(c["h"])("option",null,"2-Female",-1),gn=Object(c["h"])("option",null,"3-Other",-1),vn=Object(c["h"])("hr",null,null,-1),yn=Object(c["h"])("legend",{class:"has-background-success"},"Demographic Info",-1),wn={class:"field"},_n=Object(c["h"])("label",null," What is Date of Birth?",-1),kn={class:"control"},qn=Object(c["h"])("hr",null,null,-1),xn=Object(c["h"])("legend",{class:"has-background-success"},"Compare Images",-1),Sn=Object(c["h"])("label",null,"What Does the image imply?",-1),In=Object(c["h"])("label",null,"You Can Choose More than one option",-1),Tn=Object(c["h"])("br",null,null,-1),Cn={class:"gallery",id:"gallery"},Ln={key:0,class:"mb-3 pics all 2 animation",style:{}},zn=Object(c["h"])("img",{class:"img-fluid",src:"http://api-kite-staging.busara.io/media/uploads/Question_article-image_file_5fc41859-2001-445a-b63f-b36ec6d04706.jpg",alt:"Card image cap"},null,-1),Fn={key:0,class:"mb-3 pics all 1 animation",style:{}},Bn=Object(c["h"])("img",{class:"img-fluid",src:"http://api-kite-staging.busara.io/media/uploads/Question_article-image_file_36958ec6-a463-4389-9df0-4be3bda73ac6.jpg",alt:"Card image cap"},null,-1),Pn={key:0,class:"mb-3 pics all 1 animation",style:{}},$n=Object(c["h"])("img",{class:"img-fluid",src:"http://api-kite-staging.busara.io/media/uploads/Question_article-image_file_36958ec6-a463-4389-9df0-4be3bda73ac6.jpg",alt:"Card image cap"},null,-1),En={key:0,class:"notification is-danger"},An=Object(c["h"])("div",{class:"field"},[Object(c["h"])("div",{class:"control"},[Object(c["h"])("button",{class:"button is-success"},"Submit")])],-1),Un=Object(c["h"])("hr",null,null,-1);Object(c["r"])();var Vn=Zt((function(e,t,n,r,a,s){var o=Object(c["x"])("mdb-container");return Object(c["q"])(),Object(c["e"])("div",Yt,[Object(c["h"])("div",en,[Object(c["h"])("div",tn,[nn,cn,rn,Object(c["h"])("form",{onSubmit:t[6]||(t[6]=Object(c["G"])((function(){return s.submitForm&&s.submitForm.apply(s,arguments)}),["prevent"]))},[Object(c["h"])("fieldset",null,[an,Object(c["h"])("div",sn,[on,Object(c["h"])("div",ln,[Object(c["F"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.full_name=e})},null,512),[[c["C"],a.full_name]])])]),Object(c["h"])("div",un,[dn,Object(c["h"])("div",hn,[Object(c["F"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.phone_number=e})},null,512),[[c["C"],a.phone_number]])])]),Object(c["h"])("div",bn,[mn,On,Object(c["F"])(Object(c["h"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.selected=e})},[jn,pn,fn,gn],512),[[c["B"],a.selected]]),Object(c["h"])("span",null,"Selected: "+Object(c["z"])(a.selected),1)])]),vn,Object(c["h"])("fieldset",null,[yn,Object(c["h"])("div",wn,[_n,Object(c["h"])("div",kn,[Object(c["F"])(Object(c["h"])("input",{type:"date",class:"input","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.DOB=e})},null,512),[[c["C"],a.DOB]])])])]),qn,Object(c["h"])("fieldset",null,[xn,Object(c["h"])(o,{class:"mt-5"},{default:Zt((function(){return[Sn,In,Tn,Object(c["F"])(Object(c["h"])("select",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.multiselected=e}),multiple:""},[(Object(c["q"])(!0),Object(c["e"])(c["a"],null,Object(c["w"])(a.options,(function(e){return Object(c["q"])(),Object(c["e"])("option",{value:e.value},Object(c["z"])(e.text),9,["value"])})),256))],512),[[c["B"],a.multiselected]]),Object(c["h"])("span",null,"Selected: "+Object(c["z"])(a.multiselected),1),Object(c["h"])("div",Cn,[Object(c["h"])(c["b"],{onEnter:s.enter,onAfterEnter:s.afterEnter,onBeforeLeave:s.beforeLeave},{default:Zt((function(){return["all"===a.show||"2"===a.show?(Object(c["q"])(),Object(c["e"])("div",Ln,[zn])):Object(c["f"])("",!0)]})),_:1},8,["onEnter","onAfterEnter","onBeforeLeave"]),Object(c["h"])(c["b"],{onEnter:s.enter,onAfterEnter:s.afterEnter,onBeforeLeave:s.beforeLeave},{default:Zt((function(){return["all"===a.show||"1"===a.show?(Object(c["q"])(),Object(c["e"])("div",Fn,[Bn])):Object(c["f"])("",!0)]})),_:1},8,["onEnter","onAfterEnter","onBeforeLeave"]),Object(c["h"])(c["b"],{onEnter:s.enter,onAfterEnter:s.afterEnter,onBeforeLeave:s.beforeLeave},{default:Zt((function(){return["all"===a.show||"1"===a.show?(Object(c["q"])(),Object(c["e"])("div",Pn,[$n])):Object(c["f"])("",!0)]})),_:1},8,["onEnter","onAfterEnter","onBeforeLeave"])])]})),_:1})]),a.errors.length?(Object(c["q"])(),Object(c["e"])("div",En,[(Object(c["q"])(!0),Object(c["e"])(c["a"],null,Object(c["w"])(a.errors,(function(e){return Object(c["q"])(),Object(c["e"])("p",{key:e},Object(c["z"])(e),1)})),128))])):Object(c["f"])("",!0),An,Un],32)])])])})),Hn=localStorage.getItem("token"),Mn={name:"SignUp",data:function(){return{username:"",password1:"",password2:"",email:"",full_name:"",phone_number:"",referral_code:"",device_details:{device:"Dummy"},location:"Dummy",errors:[],selected:"",DOB:"",show:"all",multiselected:"1",options:[{text:"AirTime",value:"1"},{text:"Mobile Money",value:"2"},{text:"Mobile Banking",value:"3"}]}},methods:{enter:function(e){e.style.opacity=0},afterEnter:function(e){e.style.opacity=1},beforeLeave:function(e){e.style.opacity=0},submitForm:function(){var e=this;return Object(P["a"])(regeneratorRuntime.mark((function t(){var n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.errors=[],""===e.full_name&&e.errors.push("The full name is missing"),""===e.phone_number&&e.errors.push("The phone number is missing"),""===e.selected&&e.errors.push("The Gender  is missing"),""===e.multiselected&&e.errors.push("The money option is missing"),""===e.DOB&&e.errors.push("The DOB is missing"),e.errors.length){t.next=12;break}return{username:e.multiselected,password1:e.selected,gender:e.gender,full_name:e.full_name,phone_number:e.phone_number,referral_code:e.referral_code,device_details:e.device_details,location:e.location},n=[{ans:[{column_match:"first_name",q_ans:e.full_name,q_id:"8290"},{column_match:"gender",q_ans:e.selected,q_id:"8286"},{column_match:"phone_number",q_ans:e.phone_number,q_id:"8286"},{column_match:"cash_image",q_ans:e.multiselected,q_id:"4516"},{column_match:"date_of_birth",q_ans:e.DOB,q_id:"8287"}],end_time:"2021-02-03 11:35:16.649 +0300",local_id:0,location:{accuracy:0,lat:0,lon:0},start_time:"2021-02-03 11:27:37.739 +0300",survey_id:"4124"}],c={chepkite:n},t.next=12,k.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+Hn},body:c}).post("/api/v1/recruitment/answers/submit/").then((function(t){Object(se["toast"])({message:"Your survey has been Submitted successfully,Thanks for participating.",type:"is-success",dismissible:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"}),e.$router.push("/")})).catch((function(t){if(t.response){for(var n in t.response.data)e.errors.push("".concat(n,": ").concat(t.response.data[n]));console.log(JSON.stringify(t.response.data))}else t.message&&(e.errors.push("Something went wrong. Please try again"),console.log(JSON.stringify(t)))}));case 12:case"end":return t.stop()}}),t)})))()}}};n("1cca");Mn.render=Vn,Mn.__scopeId="data-v-5d925d48";var Rn=Mn,Jn={class:"page-checkout"},Nn={class:"columns is-multiline"},Qn=Object(c["h"])("div",{class:"column is-12"},[Object(c["h"])("h1",{class:"title"},"Checkout")],-1),Dn={class:"column is-12 box"},Gn={class:"table is-fullwidth"},Xn=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",null,"Product"),Object(c["h"])("th",null,"Price"),Object(c["h"])("th",null,"Quantity"),Object(c["h"])("th",null,"Total")])],-1),Wn=Object(c["h"])("td",{colspan:"2"},"Total",-1),Kn={class:"column is-12 box"},Zn=Object(c["h"])("h2",{class:"subtitle"},"Shipping details",-1),Yn=Object(c["h"])("p",{class:"has-text-grey mb-4"},"* All fields are required",-1),ec={class:"columns is-multiline"},tc={class:"column is-6"},nc={class:"field"},cc=Object(c["h"])("label",null,"First name*",-1),rc={class:"control"},ac={class:"field"},sc=Object(c["h"])("label",null,"Last name*",-1),oc={class:"control"},ic={class:"field"},lc=Object(c["h"])("label",null,"E-mail*",-1),uc={class:"control"},dc={class:"field"},hc=Object(c["h"])("label",null,"Phone*",-1),bc={class:"control"},mc={class:"column is-6"},Oc={class:"field"},jc=Object(c["h"])("label",null,"Address*",-1),pc={class:"control"},fc={class:"field"},gc=Object(c["h"])("label",null,"Zip code*",-1),vc={class:"control"},yc={class:"field"},wc=Object(c["h"])("label",null,"Place*",-1),_c={class:"control"},kc={key:0,class:"notification is-danger mt-4"},qc=Object(c["h"])("hr",null,null,-1),xc=Object(c["h"])("div",{id:"card-element",class:"mb-5"},null,-1),Sc=Object(c["h"])("hr",null,null,-1);function Ic(e,t,n,r,a,s){return Object(c["q"])(),Object(c["e"])("div",Jn,[Object(c["h"])("div",Nn,[Qn,Object(c["h"])("div",Dn,[Object(c["h"])("table",Gn,[Xn,Object(c["h"])("tbody",null,[(Object(c["q"])(!0),Object(c["e"])(c["a"],null,Object(c["w"])(a.cart.items,(function(e){return Object(c["q"])(),Object(c["e"])("tr",{key:e.product.id},[Object(c["h"])("td",null,Object(c["z"])(e.product.name),1),Object(c["h"])("td",null,"$"+Object(c["z"])(e.product.price),1),Object(c["h"])("td",null,Object(c["z"])(e.quantity),1),Object(c["h"])("td",null,"$"+Object(c["z"])(s.getItemTotal(e).toFixed(2)),1)])})),128))]),Object(c["h"])("tfoot",null,[Object(c["h"])("tr",null,[Wn,Object(c["h"])("td",null,Object(c["z"])(s.cartTotalLength),1),Object(c["h"])("td",null,"$"+Object(c["z"])(s.cartTotalPrice.toFixed(2)),1)])])])]),Object(c["h"])("div",Kn,[Zn,Yn,Object(c["h"])("div",ec,[Object(c["h"])("div",tc,[Object(c["h"])("div",nc,[cc,Object(c["h"])("div",rc,[Object(c["F"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.first_name=e})},null,512),[[c["C"],a.first_name]])])]),Object(c["h"])("div",ac,[sc,Object(c["h"])("div",oc,[Object(c["F"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.last_name=e})},null,512),[[c["C"],a.last_name]])])]),Object(c["h"])("div",ic,[lc,Object(c["h"])("div",uc,[Object(c["F"])(Object(c["h"])("input",{type:"email",class:"input","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.email=e})},null,512),[[c["C"],a.email]])])]),Object(c["h"])("div",dc,[hc,Object(c["h"])("div",bc,[Object(c["F"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.phone=e})},null,512),[[c["C"],a.phone]])])])]),Object(c["h"])("div",mc,[Object(c["h"])("div",Oc,[jc,Object(c["h"])("div",pc,[Object(c["F"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.address=e})},null,512),[[c["C"],a.address]])])]),Object(c["h"])("div",fc,[gc,Object(c["h"])("div",vc,[Object(c["F"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.zipcode=e})},null,512),[[c["C"],a.zipcode]])])]),Object(c["h"])("div",yc,[wc,Object(c["h"])("div",_c,[Object(c["F"])(Object(c["h"])("input",{type:"text",class:"input","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.place=e})},null,512),[[c["C"],a.place]])])])])]),a.errors.length?(Object(c["q"])(),Object(c["e"])("div",kc,[(Object(c["q"])(!0),Object(c["e"])(c["a"],null,Object(c["w"])(a.errors,(function(e){return Object(c["q"])(),Object(c["e"])("p",{key:e},Object(c["z"])(e),1)})),128))])):Object(c["f"])("",!0),qc,xc,s.cartTotalLength?(Object(c["q"])(),Object(c["e"])(c["a"],{key:1},[Sc,Object(c["h"])("button",{class:"button is-dark",onClick:t[8]||(t[8]=function(){return s.submitForm&&s.submitForm.apply(s,arguments)})},"Pay with Stripe")],64)):Object(c["f"])("",!0)])])])}var Tc={name:"Checkout",data:function(){return{cart:{items:[]},stripe:{},card:{},first_name:"",last_name:"",email:"",phone:"",address:"",zipcode:"",place:"",errors:[]}},mounted:function(){if(document.title="Checkout | Djackets",this.cart=this.$store.state.cart,this.cartTotalLength>0){this.stripe=Stripe("pk_test_51H1HiuKBJV2qfWbD2gQe6aqanfw6Eyul5PO2KeOuSRlUMuaV4TxEtaQyzr9DbLITSZweL7XjK3p74swcGYrE2qEX00Hz7GmhMI");var e=this.stripe.elements();this.card=e.create("card",{hidePostalCode:!0}),this.card.mount("#card-element")}},methods:{getItemTotal:function(e){return e.quantity*e.product.price},submitForm:function(){var e=this;this.errors=[],""===this.first_name&&this.errors.push("The first name field is missing!"),""===this.last_name&&this.errors.push("The last name field is missing!"),""===this.email&&this.errors.push("The email field is missing!"),""===this.phone&&this.errors.push("The phone field is missing!"),""===this.address&&this.errors.push("The address field is missing!"),""===this.zipcode&&this.errors.push("The zip code field is missing!"),""===this.place&&this.errors.push("The place field is missing!"),this.errors.length||(this.$store.commit("setIsLoading",!0),this.stripe.createToken(this.card).then((function(t){t.error?(e.$store.commit("setIsLoading",!1),e.errors.push("Something went wrong with Stripe. Please try again"),console.log(t.error.message)):e.stripeTokenHandler(t.token)})))},stripeTokenHandler:function(e){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function n(){var c,r,a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:for(c=[],r=0;r<t.cart.items.length;r++)a=t.cart.items[r],s={product:a.product.id,quantity:a.quantity,price:a.product.price*a.quantity},c.push(s);return o={first_name:t.first_name,last_name:t.last_name,email:t.email,address:t.address,zipcode:t.zipcode,place:t.place,phone:t.phone,items:c,stripe_token:e.id},n.next=5,k.a.post("/api/v1/checkout/",o).then((function(e){t.$store.commit("clearCart"),t.$router.push("/cart/success")})).catch((function(e){t.errors.push("Something went wrong. Please try again"),console.log(e)}));case 5:t.$store.commit("setIsLoading",!1);case 6:case"end":return n.stop()}}),n)})))()}},computed:{cartTotalPrice:function(){return this.cart.items.reduce((function(e,t){return e+t.product.price*t.quantity}),0)},cartTotalLength:function(){return this.cart.items.reduce((function(e,t){return e+t.quantity}),0)}}};Tc.render=Ic;var Cc=Tc,Lc={class:"page-success"},zc=Object(c["h"])("div",{class:"columns is-multiline"},[Object(c["h"])("div",{class:"column is-12"},[Object(c["h"])("h1",{class:"title"},"Thank you"),Object(c["h"])("p",null,"Your order will be processed within 48 hours")])],-1);function Fc(e,t,n,r,a,s){return Object(c["q"])(),Object(c["e"])("div",Lc,[zc])}var Bc={name:"Success",mounted:function(){document.title="Success | Djackets"}};Bc.render=Fc;var Pc=Bc,$c=[{path:"/",name:"Home",component:D},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/sign-up",name:"SignUp",component:bt},{path:"/log-in",name:"LogIn",component:Bt},{path:"/my-account",name:"MyAccount",component:Kt,meta:{requireLogin:!0}},{path:"/my-survey",name:"MySurvey",component:Rn,meta:{requireLogin:!0}},{path:"/search",name:"Search",component:_e},{path:"/cart",name:"Cart",component:$e,meta:{requireLogin:!0}},{path:"/cart/success",name:"Success",component:Pc,meta:{requireLogin:!0}},{path:"/cart/checkout",name:"Checkout",component:Cc,meta:{requireLogin:!0}},{path:"/:category_slug/:product_slug",name:"Product",component:ie,meta:{requireLogin:!0}},{path:"/:category_slug",name:"Category",component:Oe,meta:{requireLogin:!0}}],Ec=Object(S["a"])({history:Object(S["b"])("/"),routes:$c});Ec.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requireLogin}))&&!T.state.isAuthenticated?n({name:"LogIn",query:{to:e.path}}):n()}));var Ac=Ec;k.a.defaults.baseURL="http://104.248.0.49",Object(c["d"])(x).use(T).use(Ac,k.a).mount("#app")},6748:function(e,t,n){"use strict";n("f461")},c9d5:function(e,t,n){"use strict";n("f2ca")},e92b:function(e,t,n){},f2ca:function(e,t,n){},f461:function(e,t,n){}});
//# sourceMappingURL=app.7a5b6e6b.js.map